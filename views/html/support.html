<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Kode is a Premium Bootstrap Admin Template, It's responsive, clean coded and mobile friendly">
    <meta name="keywords" content="bootstrap, admin, dashboard, flat admin template, responsive," />

    <title>Survey - Admin dashboard</title>

    <!-- ========== Css Files ========== -->
    <link href="css/root.css" rel="stylesheet">
      
    <!-- <script src="js/jquery-3.3.1.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js" ></script>        
    <script src="js/socket.js" ></script> -->

    <script type="text/javascript" > 
    
    </script>
  </head>
  <body >
  <!-- Start Page Loading -->
  <div class="loading"><img src="img/loading.gif" alt="loading-img"></div>
  <!-- End Page Loading -->
 <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!-- START TOP -->
  <div id="top" class="clearfix">

    <!-- Start App Logo -->
    <div class="applogo">
      <a href="index.html" class="logo">Survey</a>
    </div>
    <!-- End App Logo -->
    <h1 class="text-center">Support Tickets</h1>

     
  </div>
  <!-- END TOP -->
 <!-- //////////////////////////////////////////////////////////////////////////// --> 


<!-- //////////////////////////////////////////////////////////////////////////// --> 
<!-- START SIDEBAR -->
<div class="sidebar clearfix">
    <ul class="sidebar-panel nav" >
        <li class="sidetitle">MAIN</li>
        <li><a href="project.html"><span class="icon color5"><i class="fa fa-home"></i></span>New Project<span class="label label-default">2</span></a></li>
        <li><a href="questions.html"><span class="icon color6"><i class="fa fa-pencil"></i></span>Project Questionaire<span class="label label-default">19</span></a></li>
        <!-- <li><a href="synchproject.html"><span class="icon color8"><i class="fa fa-search"></i></span>Sync Questionaire</a></li> -->
        <li><a href="#"><span class="icon color9"><i class="fa fa-th"></i></span>Data Tables<span class="caret"></span></a>
          <ul>
            <li><a href="datatable.html"><span class="icon color8"><i class="fa fa-database"></i></span>Raw Data</a></li>
            <li><a href="graphtable.html"><span class="icon color8"><i class="fa fa-bar-chart"></i></span>Graphical Data</a></li>
          </ul>
        </li>
      
        <li><a href="users.html"><span class="icon color8"><i class="fa fa-user"></i></span>Setup BA Device</a></li>     
        <li><a href="users.html"><span class="icon color8"><i class="fa fa-users"></i></span>Setup Clients</a></li>     
        <li><a href="mapdevice.html"><span class="icon color8"><i class="fa fa-android"></i></span>Map Device to Project </a></li>     
        <li><a href="support.html"><span class="icon color8"><i class="fa fa-home"></i></span>Support Tickets</a></li>     
            </ul>
</div>
<!-- END SIDEBAR -->
<!-- //////////////////////////////////////////////////////////////////////////// --> 

 <!-- //////////////////////////////////////////////////////////////////////////// --> 
<!-- START CONTENT -->
<div class="content">

  
 <!-- //////////////////////////////////////////////////////////////////////////// --> 
<!-- START CONTAINER -->
<div class="container-padding">
  
  <!-- Start Fifth Row -->
  <div class="row">

    <!-- Start Project Stats -->

    <div class="container-padding" id="about">
        <input type="hidden" class="projectid" >
          
        <!-- <div class="holder" > -->
             
        <div class="row" id="r2" >
            <!-- <h2 class="text-center">Project Questions Setup</h2> -->
            <div class="panel" >
                <div class="panel-title" >
                    <!-- <h3>Support Tickets</h3> -->
                    <input type="hidden" id="usermail" >
                </div>
                <form action="/board.html" method="get">
                    <div class="panel-body" style="background-color: whitesmoked">

                        <div class="row col-md-5" style="background-color: whitesmoke; color: black">
                            <div id="nticket" class="table table-responsive">
                                <div class="col-md-12 form-group">
                                    <label class="col-md-4" for="name">Priority</label>
                                    <select class="col-md-8 form-control" name="priority" id="priority" >
                                        <option value="0">select a priority...</option>
                                        <option value="low">Low</option>
                                        <option value="medium">Medium</option>
                                        <option value="high">High</option>
                                        <option value="urgent">Very Urgent</option>

                                    </select>
                                </div>
                                    
                                <div class="form-group col-md-12">
                                    <label for="title">Ticket Title</label>
                                    <input type="text" class="form-control col-md-7" id="title" required/>                     
                                </div>
                                
                                <div class="form-group">
                                    <label for="issue">Issue Description</label>
                                    <textarea name="issue" id="issue" cols="50" rows="5"></textarea>
                                </div> 
                            </div>

                            
                        </div>

                        <div class="row col-md-7 pull-right" style="background-color: whitesmoke; color: black; height: 300px; margin-top: 0px" >
                            <h3 style="text-align: center" > Your Ticket Status.</h3>
                            <div id="ticket" class="table table-hover" style="float: left; margin-top: 0px; font-size: 12px">
                                No Active ticket
                            </div>

                        </div>
                    </div>

                    <div class="panel-footer">
                        <button class="btn btn-success" type="button" id="save" onclick="submitTicket()">Submit</button>
                        <button class="btn btn-primary" type="submit"  >Close</button>


                    </div>
                </form>

            </div>

        </div>

            
 
 
    </div><!-- end of content -->

     
    <div class="modal fade" id="addConditions" role="modal" style="width: 1500px">
        <div class="modal-dialog modal-lg" title="Add Conditions to various questions" style="width: 700px" >
            <div class="modal-content">
                <input type="hidden" class="refnos2" >
                <input type="hidden" id="quest2" >
                
                <input type="text" id="questno" >
                <!-- <input type="hidden" id="currentuser" > -->

                <div class="modal-header" style="padding: 15px 40px; background-color: antiquewhite">
                    <button type="button" class="close" data-dismiss="modal" >&times;</button>
                    <h4 style="text-align: center">Add Conditions to various questions Choices.</h4>
                </div>

                <div class="modal-body" style="height: 300px; ">
                    <div class="form-group col-md-12"> 
                        <textarea class="q1" cols="50" rows="2" data-toggle="tooltip" readonly  style="font-weight: bolder; font-size: 18px"></textarea>
                    </div> 
                    
                    <div class="col-md-12">
                        <div class="form-group col-md-6">
                            <label for="choice" class="col-md-2" >Select Option</label>
                            <select class="form-control col-md-4" name="choice" id="choice" onchange="getGoto(this.value)">
                            </select>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="goto" class="form-label col-md-2" style="font-size: 12px" >Goto Question</label>                                 
                            <select name="goto" id="goto" onchange="getQuestionIndex(this.value)" class="form-control col-md-4">                                    
                            </select>    
                        </div>

                    </div>

                    <div class="form-group-sm col-md-12 res hidden" style="overflow-y: scroll; height: 100px" >

                    </div>

                </div>

                <div class="modal-footer col-md-12" style="background-color: antiquewhite">
                    <button type="button" class="btn btn-success rounded" onclick="saveCondition()" id="condition" ><i class="fa fa-arrow-circle-o-up" ></i>Submit</button>
                    <button type="button" class="btn btn-primary" data-toggle='tooltip' title='Close window' id="closer"  data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="pushtodisplay" role="modal" style="width: 1200px">
        <div class="modal-dialog modal-lg" title="Add expected Options for questions">
            <div class="modal-content">
                <input type="hidden" class="refnos" >
                <input type="hidden" id="quest" >
                <!-- <input type="hidden" id="currentuser" > -->

                <div class="modal-header" style="padding: 15px 40px; background-color: #6F4E37; color: #fff; font-weight: bolder">
                    <button type="button" class="close" data-dismiss="modal" >&times;</button>
                    <h4 style="color: #fff; text-align: center" ><span>Add Options for questions</h4>
                </div>

                <div class="modal-body" style="height: 380px; background-color: whitesmoke">
                    <div class="col-md-12">
                        <!-- <label for="teler1" class="form-label col-md-5" style="font-size: 22px" >Your Question</label>  -->
                        <div class="col-md-12" >
                            <input class="q1 col-md-12" data-toggle="tooltip" readonly  style="font-weight: bolder; font-size: 18px; text-align: center">
                        </div>
                        
                    </div> 
                    
                    <div class="col-md-8" style="background-color: whitesmoke">
                        <!-- <h4 >Add Options</h4> -->
 
                        <div class="form-group col-md-6">
                            <label for="edate" class="col-md-5" >Response Text</label>
                            <input type="text" name="response" id="response" autocomplete="off" class="form-control col-md-7" placeholder="Enter Choice text to be seen by users...">                            
                        </div>
 
                        <div class="form-group col-md-7">
                            <label for="teler1" class="form-label col-md-5" style="font-size: 16px" >Choice Type</label> 
                            
                            <select name="c_type" id="c_type" class="form-control col-md-7">
                                <option value="0"   >Select Choice display type</option>
                                <option value="txt" >Text Input</option>
                                <option value="num" >Number Input</option>
                                
                                <option value="rad" >Radio button</option>
                                <option value="chk" >Check boxes</option>
                                <option value="img" >Image Picker</option>
                            </select>

                        </div>  

                    </div>

                    <div class='col-md-4' >
                        <p class="col-md-12" ><h5>Question Options</h5></p>
                        <div id="choices" class="form-group col-md-12" style="background-color: transparent; height: 280px; overflow: scroll" > 
                            
                        </div> 
                    </div>
                    
                </div>

                <div class="modal-footer col-md-12" style="background-color: #00acac">
                    <button type="button" class="btn btn-group-sm rounded" onclick="saveChoices()" id="pusher" ><i class="fa fa-arrow-circle-o-up" ></i>Submit</button>
                    <button type="button" class="btn btn-orange" data-toggle='tooltip' title='Close window' id="closer"  data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>
      <!-- Start Project Stats -->
       
<!-- End Fifth Row -->

</div>
<!-- END CONTAINER -->
 <!-- //////////////////////////////////////////////////////////////////////////// --> 

</div>
<!-- End Content -->
 <!-- //////////////////////////////////////////////////////////////////////////// --> 
<!-- //////////////////////////////////////////////////////////////////////////// --> 
 
<!-- ================================================
jQuery Library
================================================ -->
<script type="text/javascript" src="js/jquery.min.js"></script>

<script>
  var user = localStorage.getItem('userid');
  // alert(user)
  $('#usermail').val(user);
  $(document).ready(() => {
            var title=$("#title").val();
            var issue=$("#issue").val();
            var user = localStorage.getItem("userid");
            $("#usermail").val(user);


            $.ajax({
                url: "/gettickets",
                data: "user="+user,
                type: "GET",
                cache: false,
                success: (data) => {
                    // alert(data);
                    $("#ticket").html(data)
                },
                error: (data) => {
                    // alert(data);
                },
                datatype: "text"
            })
        })
  
        var submitTicket = ()=> {
            // alert('dele')
            var priority = $("#priority").val();
            var title = $("#title").val();
            var issue = $("#issue").val();
            var user  = $("#usermail").val();

            // alert( title);
            
            $.ajax({
                url: "/insertticket",
                data: "title="+title+"&message="+issue+"&usermail="+user+"&priority="+priority,
                type: "GET",
                cache: false,
                success: (data) => {
                    // alert(data);
                    $("#ticket").html(data)
                },
                error: (data) => {
                    alert('Server CALL Error: '+data);
                },
                datatype: "text"
            })

        }


</script>

<!-- ================================================
Bootstrap Core JavaScript File
================================================ -->
<script src="js/bootstrap/bootstrap.min.js"></script>

<!-- ================================================
Plugin.js - Some Specific JS codes for Plugin Settings
================================================ -->
<script type="text/javascript" src="js/plugins.js"></script>

<!-- ================================================
Bootstrap Select
================================================ -->
<!-- <script type="text/javascript" src="js/bootstrap-select/bootstrap-select.js"></script> -->

<!-- ================================================
Bootstrap Toggle
================================================ -->
<!-- <script type="text/javascript" src="js/bootstrap-toggle/bootstrap-toggle.min.js"></script> -->

<!-- ================================================
Bootstrap WYSIHTML5
================================================ -->
<!-- main file -->
<!-- <script type="text/javascript" src="js/bootstrap-wysihtml5/wysihtml5-0.3.0.min.js"></script> -->
<!-- bootstrap file -->
<!-- <script type="text/javascript" src="js/bootstrap-wysihtml5/bootstrap-wysihtml5.js"></script> -->

<!-- ================================================
Summernote
================================================ -->
<!-- <script type="text/javascript" src="js/summernote/summernote.min.js"></script> -->

<!-- ================================================
Flot Chart
================================================ -->
<!-- main file -->
<!-- <script type="text/javascript" src="js/flot-chart/flot-chart.js"></script> -->
<!-- time.js -->
<!-- <script type="text/javascript" src="js/flot-chart/flot-chart-time.js"></script> -->
<!-- stack.js -->
<!-- <script type="text/javascript" src="js/flot-chart/flot-chart-stack.js"></script>/ -->
<!-- pie.js -->
<!-- <script type="text/javascript" src="js/flot-chart/flot-chart-pie.js"></script> -->
<!-- demo codes -->
<!-- <script type="text/javascript" src="js/flot-chart/flot-chart-plugin.js"></script> -->

<!-- ================================================
Chartist
================================================ -->
<!-- main file -->
<!-- <script type="text/javascript" src="js/chartist/chartist.js"></script> -->
<!-- demo codes -->
<!-- <script type="text/javascript" src="js/chartist/chartist-plugin.js"></script> -->

<!-- ================================================
Easy Pie Chart
================================================ -->
<!-- main file -->
<!-- <script type="text/javascript" src="js/easypiechart/easypiechart.js"></script> -->
<!-- demo codes -->
<!-- <script type="text/javascript" src="js/easypiechart/easypiechart-plugin.js"></script> -->

<!-- ================================================
Sparkline
================================================ -->
<!-- main file -->
<!-- <script type="text/javascript" src="js/sparkline/sparkline.js"></script> -->
<!-- demo codes -->
<!-- <script type="text/javascript" src="js/sparkline/sparkline-plugin.js"></script> -->

<!-- ================================================
Rickshaw
================================================ -->
<!-- d3 -->
<!-- <script src="js/rickshaw/d3.v3.js"></script> -->
<!-- main file -->
<!-- <script src="js/rickshaw/rickshaw.js"></script> -->
<!-- demo codes -->
<!-- <script src="js/rickshaw/rickshaw-plugin.js"></script> -->

<!-- ================================================
Data Tables
================================================ -->
<script src="js/datatables/datatables.min.js"></script>

<!-- ================================================
Sweet Alert
================================================ -->
<script src="js/sweet-alert/sweet-alert.min.js"></script>

<!-- ================================================
Kode Alert
================================================ -->
<script src="js/kode-alert/main.js"></script>

<!-- ================================================
Gmaps
================================================ -->
<!-- google maps api -->
<!-- <script src="http://maps.google.com/maps/api/js?sensor=true"></script> -->
<!-- main file -->
<!-- <script src="js/gmaps/gmaps.js"></script> -->
<!-- demo codes -->
<!-- <script src="js/gmaps/gmaps-plugin.js"></script> -->

<!-- ================================================
jQuery UI
================================================ -->
<!-- <script type="text/javascript" src="js/jquery-ui/jquery-ui.min.js"></script> -->

<!-- ================================================
Moment.js
================================================ -->
<!-- <script type="text/javascript" src="js/moment/moment.min.js"></script> -->

<!-- ================================================
Full Calendar
================================================ -->
<!-- <script type="text/javascript" src="js/full-calendar/fullcalendar.js"></script> -->

<!-- ================================================
Bootstrap Date Range Picker
================================================ -->
<!-- <script type="text/javascript" src="js/date-range-picker/daterangepicker.js"></script> -->
 

<!-- ================================================
Below codes are only for index widgets
================================================ -->
<!-- Today Sales -->
<script>
  
// set up our data series with 50 random data points

// var seriesData = [ [], [], [] ];
// var random = new Rickshaw.Fixtures.RandomData(20);

// for (var i = 0; i < 110; i++) {
//   random.addData(seriesData);
// }

// instantiate our graph!

// var graph = new Rickshaw.Graph( {
//   element: document.getElementById("todaysales"),
//   renderer: 'bar',
//   series: [
//     {
//       color: "#33577B",
//       data: seriesData[0],
//       name: 'Photodune'
//     }, {
//       color: "#77BBFF",
//       data: seriesData[1],
//       name: 'Themeforest'
//     }, {
//       color: "#C1E0FF",
//       data: seriesData[2],
//       name: 'Codecanyon'
//     }
//   ]
// } );

// graph.render();

// var hoverDetail = new Rickshaw.Graph.HoverDetail( {
//   graph: graph,
//   formatter: function(series, x, y) {
//     var date = '<span class="date">' + new Date(x * 1000).toUTCString() + '</span>';
//     var swatch = '<span class="detail_swatch" style="background-color: ' + series.color + '"></span>';
//     var content = swatch + series.name + ": " + parseInt(y) + '<br>' + date;
//     return content;
//   }
// } );

</script>

<!-- Today Activity -->
<script>
// set up our data series with 50 random data points

// var seriesData = [ [], [], [] ];
// var random = new Rickshaw.Fixtures.RandomData(20);

// for (var i = 0; i < 50; i++) {
//   random.addData(seriesData);
// }

// instantiate our graph!

// var graph = new Rickshaw.Graph( {
//   element: document.getElementById("todayactivity"),
//   renderer: 'area',
//   series: [
//     {
//       color: "#9A80B9",
//       data: seriesData[0],
//       name: 'London'
//     }, {
//       color: "#CDC0DC",
//       data: seriesData[1],
//       name: 'Tokyo'
//     }
//   ]
// } );

// graph.render();

// var hoverDetail = new Rickshaw.Graph.HoverDetail( {
//   graph: graph,
//   formatter: function(series, x, y) {
//     var date = '<span class="date">' + new Date(x * 1000).toUTCString() + '</span>';
//     var swatch = '<span class="detail_swatch" style="background-color: ' + series.color + '"></span>';
//     var content = swatch + series.name + ": " + parseInt(y) + '<br>' + date;
//     return content;
//   }
// } );

// var getdata = () => {
//     alert('dele')
// }
    


</script>



</body>
</html>



